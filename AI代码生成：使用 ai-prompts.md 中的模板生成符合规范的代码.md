# AI代码生成提示词模板

## 通用提示词前缀
```
你是一个专业的Node.js/Express.js开发专家。请严格按照以下项目规范生成代码：

项目架构：MVC模式 (Routes -> Controllers -> Services -> Models)
API分类：用户端(/api/user)、管理端(/api/admin)、商户端(/api/merchant)
数据库：MySQL(Sequelize) + MongoDB(Mongoose) + Redis缓存
状态值：统一使用数字常量，禁用布尔值和字符串枚举

核心要求：
1. 所有控制器继承BaseController，使用箭头函数和asyncHandler包装
2. 所有服务继承BaseService，使用事务处理和缓存策略
3. 统一使用数字状态常量 (0=禁用/失败/否, 1=启用/成功/是)
4. 详细的中文注释，包含文件头、方法说明和行内注释
5. 完善的错误处理和日志记录
6. 输入验证和安全防护
```

## 控制器生成提示词
```
请为[功能模块]生成一个Express.js控制器，要求：

1. 继承BaseController基类
2. 使用箭头函数定义方法，配合this.asyncHandler包装
3. 包含以下方法：[列出具体方法]
4. 每个方法包含：参数验证、服务层调用、统一响应格式、错误处理
5. 使用this.sendSuccess/sendError/sendPaginatedResponse返回响应
6. 记录操作日志：this.logAction和this.logError
7. 详细的中文注释说明功能和参数

控制器名称：[ControllerName]
服务依赖：[ServiceName]
API端点：[/api/endpoint]
```

## 服务类生成提示词
```
请为[功能模块]生成一个业务服务类，要求：

1. 继承BaseService基类
2. 使用this.executeTransaction处理数据库事务
3. 使用this.getOrSetCache处理缓存逻辑
4. 包含以下业务方法：[列出具体方法]
5. 每个方法包含：参数验证、业务逻辑、数据库操作、缓存更新
6. 使用数字状态常量，避免布尔值
7. 完善的错误处理和日志记录
8. 详细的JSDoc注释

服务名称：[ServiceName]
数据模型：[ModelName]
缓存策略：[TTL时间]
```

## 路由生成提示词
```
请为[功能模块]生成Express.js路由配置，要求：

1. 使用express.Router()创建路由实例
2. 引入对应的控制器和中间件
3. 配置路由路径和HTTP方法
4. 应用认证中间件和限流中间件
5. 支持以下端点：[列出具体端点]
6. 包含详细的路由注释说明

路由前缀：[/api/module]
控制器：[ControllerName]
中间件：[authMiddleware, limiterMiddleware]
```

## 数据模型生成提示词
```
请为[数据表]生成Sequelize数据模型，要求：

1. 使用DataTypes定义字段类型
2. 包含主键、状态字段、时间戳字段
3. 状态字段使用数字常量作为默认值
4. 添加字段注释说明
5. 配置表名和选项
6. 定义关联关系（如果需要）
7. 详细的模型注释

表名：[table_name]
字段：[列出字段列表]
关联：[关联关系说明]
```

## 中间件生成提示词
```
请生成[功能]中间件，要求：

1. 标准的Express中间件格式 (req, res, next)
2. 完善的错误处理和日志记录
3. 使用项目的状态常量
4. 支持异步操作
5. 详细的中文注释

中间件类型：[认证/限流/验证/其他]
功能描述：[具体功能说明]
```

## 常量定义提示词
```
请为[模块]生成状态常量定义，要求：

1. 使用UPPER_SNAKE_CASE命名
2. 数字值从0开始递增
3. 包含详细的中文注释
4. 按功能分组组织
5. 导出所有常量

常量类型：[状态/角色/配置/其他]
具体值：[列出需要的常量]
```

## API文档生成提示词
```
请为[API接口]生成详细的API文档，要求：

1. 包含接口描述、请求方法、路径
2. 详细的请求参数说明（类型、必填、示例）
3. 响应格式和状态码说明
4. 错误码和错误信息
5. 请求和响应示例
6. 使用Markdown格式

接口信息：
- 路径：[API路径]
- 方法：[HTTP方法]
- 功能：[功能描述]
- 参数：[参数列表]
```

## 测试代码生成提示词
```
请为[功能模块]生成测试代码，要求：

1. 使用Jest测试框架
2. 包含单元测试和集成测试
3. 测试覆盖主要业务逻辑
4. 模拟数据库和外部依赖
5. 断言使用项目的状态常量
6. 详细的测试用例描述

测试类型：[单元测试/集成测试/API测试]
测试目标：[ControllerName/ServiceName/API端点]
```

## 数据库迁移提示词
```
请生成[数据表]的数据库迁移脚本，要求：

1. 使用Sequelize迁移格式
2. 包含up和down方法
3. 详细的字段定义和约束
4. 索引和外键配置
5. 迁移注释说明

表操作：[创建/修改/删除]
表名：[table_name]
字段变更：[具体变更内容]
```

## 配置文件生成提示词
```
请生成[环境]的配置文件，要求：

1. 包含数据库、Redis、MongoDB配置
2. JWT和安全相关配置
3. 缓存TTL配置
4. 服务端口和集群配置
5. 详细的配置注释

环境类型：[dev/uat/prod]
配置项：[列出需要的配置]
```

## 错误处理提示词
```
请生成全局错误处理中间件，要求：

1. 捕获所有未处理的错误
2. 根据错误类型返回不同状态码
3. 记录详细的错误日志
4. 返回统一的错误响应格式
5. 开发和生产环境的差异化处理
6. 使用项目的状态常量

错误类型：[验证错误/认证错误/业务错误/系统错误]
```

## 性能优化提示词
```
请为[功能模块]添加性能优化，要求：

1. 数据库查询优化（索引、分页、预加载）
2. 缓存策略优化（多级缓存、缓存更新）
3. 响应压缩和静态资源缓存
4. 连接池配置优化
5. 异步处理和批量操作
6. 性能监控和日志记录

优化目标：[具体性能指标]
当前问题：[性能瓶颈描述]
```

## 安全加固提示词
```
请为[功能模块]添加安全防护，要求：

1. 输入验证和数据清理
2. SQL注入和XSS防护
3. 认证和授权检查
4. 限流和防暴力破解
5. 敏感数据加密
6. 安全日志记录

安全要求：[具体安全需求]
风险评估：[潜在安全风险]
```

---

## 使用说明

1. **选择合适的提示词模板**：根据需要生成的代码类型选择对应模板
2. **填充具体信息**：将模板中的占位符替换为实际的项目信息
3. **组合使用**：可以将通用前缀与具体模板组合使用
4. **迭代优化**：根据生成结果调整提示词内容

## 示例使用

```
[通用提示词前缀]

[控制器生成提示词]
控制器名称：UserAuthController
服务依赖：UserAuthService
API端点：/api/user/auth
包含方法：login, logout, register, refreshToken
```

这样的组合提示词将生成符合项目规范的高质量代码。
